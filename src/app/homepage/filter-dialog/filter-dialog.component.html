<p-dialog 
    class="dialog" 
    header="Filter" 
    [(visible)]="FilterDialog" 
    (onShow)="getData()"
    [style]="{ width: '55rem' }" 
    closeOnEscape="true" 
    dismissableMask="true" 
    [modal]="true" 
    (onHide)="updateDialogVisible()">
    
    <div class="middelSection" >
        <div class="tagSection">
            @for (tag of allSelectedFilters; track $index) {
            <p-tag 
                severity="success" 
                value="{{tag}}"
            />
            }
        </div>
    </div>

    <div class="dialog-content">
        @for (filterGroup of listboxFilters; track $index) {
            <p-listbox 
            [options]="filterGroup.options" 
            [(ngModel)]="filterGroup.selected"
            [filter]="true" 
            filterMatchMode="startsWith"
            [filterPlaceHolder]="filterGroup.label"
            [style]="{ width: '9.5rem' }" 
            [listStyle]="{'max-height': '220px'}"
            [multiple]="true"
            (onChange)="selectedFilter()" 
            /> 
        }
    </div>

    <div class="buttonSection">
        <p-button 
            label="Speichern" 
            severity="success" 
            (onClick)="updateDialogVisible()"
            (onClick)="saveFilter()"
            (onClick)="filterService.getTags()"
        />
        <p-button 
            label="LÃ¶schen" 
            severity="success" 
            (onClick)="deleteFilter()"
            (onClick)="updateDialogVisible()"
            icon="pi pi-trash"
        />
    </div>
</p-dialog>
